{"ast":null,"code":"import _slicedToArray from\"/Users/azizbekabduganiev/Desktop/mern/core/product_manager_iii/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import axios from'axios';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Dashboard=function Dashboard(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),productList=_useState2[0],setProductList=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),toggleDelete=_useState4[0],setToggleDelete=_useState4[1];useEffect(function(){axios.get('http://localhost:8000/api/products').then(function(response){setProductList(response.data.results);console.log('This is our Dashboard get request: ',response.data.results);}).catch(function(err){console.log(\"This is our dashboard catch error\",err);});},[toggleDelete]);var handleDelete=function handleDelete(e,id){console.log(\"this is our delete function\",id);axios.delete(\"http://localhost:8000/api/products/delete/\".concat(id)).then(function(response){console.log(\"Success It's been deleted\");setToggleDelete(!toggleDelete);}).catch(function(err){console.log(\"This is our handle delete method\",err);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-outline-primary\",children:[/*#__PURE__*/_jsx(Link,{to:'/create',children:\"Create\"}),\" \"]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsxs(\"thead\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\" All Products:  \"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions \"})]}),/*#__PURE__*/_jsx(\"tbody\",{children:productList.map(function(product,i){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[\" \",product.title,\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-outline-warning\",children:[\" \",/*#__PURE__*/_jsx(Link,{to:\"/products/\".concat(product._id),children:\"View \"})]}),\" |\",/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-outline-success\",children:[\" \",/*#__PURE__*/_jsx(Link,{to:\"/products/update/\".concat(product._id),children:\"Edit \"})]}),\" |\",/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-danger\",onClick:function onClick(e){handleDelete(e,product._id);},children:\"Delete \"})]})]},i);})})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","axios","Link","jsx","_jsx","jsxs","_jsxs","Dashboard","_useState","_useState2","_slicedToArray","productList","setProductList","_useState3","_useState4","toggleDelete","setToggleDelete","get","then","response","data","results","console","log","catch","err","handleDelete","e","id","delete","concat","children","className","to","map","product","i","title","_id","onClick"],"sources":["/Users/azizbekabduganiev/Desktop/mern/core/product_manager_iii/client/src/components/Dashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport { Link } from 'react-router-dom'\n\nconst Dashboard = () => {\n    const [productList, setProductList] = useState([])\n\n    const [toggleDelete, setToggleDelete] = useState(false)\n\n    useEffect(() => {\n        axios.get('http://localhost:8000/api/products')\n            .then((response) => {\n                setProductList(response.data.results)\n                console.log('This is our Dashboard get request: ', response.data.results)\n            })\n            .catch((err) => {\n                console.log(\"This is our dashboard catch error\", err)\n            })\n    }, [toggleDelete])\n\n    const handleDelete = (e, id) => {\n        console.log(\"this is our delete function\", id)\n        axios.delete(`http://localhost:8000/api/products/delete/${id}`)\n        .then((response) => {\n            console.log(\"Success It's been deleted\")\n            setToggleDelete(!toggleDelete)\n        })\n        .catch((err) => {console.log(\"This is our handle delete method\", err)})\n\n    }\n\n\n    return (\n        <div>\n            <hr />\n            <button className='btn btn-outline-primary' ><Link to={'/create'} >Create</Link> </button>\n            <hr />\n            <table className='table'>\n                <thead>\n                    <th> All Products:  </th>\n                    <th>Actions </th>\n                </thead>\n                <tbody>\n                    {\n                        productList.map((product, i) => {\n                            return (\n                                <tr key={i}>\n                                    <td> {product.title} </td>\n                                    <td>\n                                        <button className='btn btn-outline-warning'> <Link to={`/products/${product._id}`}>View </Link></button> | \n                                        <button className='btn btn-outline-success'> <Link to={`/products/update/${product._id}`}>Edit </Link></button> | \n                                        <button className='btn btn-outline-danger' onClick={(e) => {handleDelete(e,product._id)}}>Delete </button>\n                                    </td>\n                                </tr>\n                            )\n                        })\n                    }\n                </tbody>\n            </table>\n        </div>\n    )\n}\n\nexport default Dashboard\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}